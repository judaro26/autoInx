<script type="module">
Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
Â  Â  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
Â  Â  import { getFirestore, collection, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

Â  Â  let db, auth, userId;
Â  Â  
Â  Â  // FIX 1: Safely check the global window scope for appId
Â  Â  const appId = window.__app_id || 'default-app-id';
    
Â  Â  const CONFIG_CLIENT_FUNCTION = '/.netlify/functions/getClientFirebaseConfig';
Â  Â  const ORDERS_COLLECTION = (uid) => `artifacts/${appId}/users/${uid}/orders`;

Â  Â  const formatPrice = c => `$${(c/100).toLocaleString('es-CO', { minimumFractionDigits: 2 })}`;
Â  Â  const formatTime = (ts) => {
Â  Â  Â  Â  if (!ts) return 'N/A';
Â  Â  Â  Â  const date = ts.toDate ? ts.toDate() : new Date(ts);
Â  Â  Â  Â  return date.toLocaleDateString('es-CO', { weekday: 'short', day: 'numeric', month: 'short', year: 'numeric' }) +
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ' â€¢ ' + date.toLocaleTimeString('es-CO', { hour: '2-digit', minute: '2-digit' });
Â  Â  };

Â  Â  function showMessage(type, text) {
Â  Â  Â  Â  const el = document.getElementById('messageContainer');
Â  Â  Â  Â  el.innerHTML = `<div class="p-6 rounded-2xl text-lg font-bold text-center ${type === 'error' ? 'bg-red-100 text-red-800' : 'bg-blue-100 text-blue-800'} shadow-lg">${text}</div>`;
Â  Â  }

Â  Â  async function initApp() {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const res = await fetch(CONFIG_CLIENT_FUNCTION);
Â  Â  Â  Â  Â  Â  if (!res.ok) throw new Error("No se pudo cargar la configuraciÃ³n");
Â  Â  Â  Â  Â  Â  const cfg = await res.json();
Â  Â  Â  Â  Â  Â  
            if (!cfg.apiKey || !cfg.projectId) {
                throw new Error("Firebase config incompleta.");
            }
            
Â  Â  Â  Â  Â  Â  const appInstance = initializeApp(cfg);
Â  Â  Â  Â  Â  Â  auth = getAuth(appInstance);
Â  Â  Â  Â  Â  Â  db = getFirestore(appInstance);

Â  Â  Â  Â  Â  Â  onAuthStateChanged(auth, user => {
                // Get elements once
                const loadingStateEl = document.getElementById('loadingState');
                const ordersContainerEl = document.getElementById('ordersContainer');
                
                // Hide loading state
                if (loadingStateEl) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loadingStateEl.classList.add('hidden');
                }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
                if (user && !user.isAnonymous) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userId = user.uid;
                    
                    // FIX 3: Wrap critical display logic in a brief timeout 
                    // to ensure all DOM elements are rendered after 'loadingState' is hidden.
                    setTimeout(() => {
                        if (ordersContainerEl) {
                            ordersContainerEl.classList.remove('hidden');
                        }
                        fetchUserOrders(userId);
                    }, 50); // 50ms delay
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showMessage('error', 'Inicia sesiÃ³n para ver tus pedidos. Redirigiendo...');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => window.location.href = '/index.html', 3000);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error(e);
            
            const loadingStateEl = document.getElementById('loadingState');
            if (loadingStateEl) {
                loadingStateEl.classList.add('hidden');
            }
Â  Â  Â  Â  Â  Â  showMessage('error', `Error: ${e.message}`);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function fetchUserOrders(uid) {
Â  Â  Â  Â  const q = query(collection(db, ORDERS_COLLECTION(uid)), orderBy('createdAt', 'desc'));
Â  Â  Â  Â  onSnapshot(q, (snapshot) => {
Â  Â  Â  Â  Â  Â  const orders = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
Â  Â  Â  Â  Â  Â  renderOrders(orders);
Â  Â  Â  Â  }, (error) => {
Â  Â  Â  Â  Â  Â  console.error(error);
Â  Â  Â  Â  Â  Â  showMessage('error', 'Error al cargar los pedidos');
Â  Â  Â  Â  });
Â  Â  }

Â  Â  function renderOrders(orders) {
Â  Â  Â  Â  const container = document.getElementById('ordersList');
Â  Â  Â  Â  if (!container) return; // Final defensive check
        
Â  Â  Â  Â  if (orders.length === 0) {
Â  Â  Â  Â  Â  Â  container.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-center py-20 bg-white rounded-3xl shadow-2xl">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-2xl font-bold text-gray-700 mb-2">AÃºn no tienes pedidos</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-500">Cuando hagas tu primera compra, aparecerÃ¡ aquÃ­</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="index.html" class="mt-6 inline-block px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-full hover:shadow-xl transform hover:scale-105 transition">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ir a la Tienda
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  container.innerHTML = orders.map((order, idx) => {
Â  Â  Â  Â  Â  Â  Â  Â  const statusColors = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Delivered': 'bg-emerald-100 text-emerald-800 border-emerald-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Shipped': 'bg-blue-100 text-blue-800 border-blue-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Processing': 'bg-indigo-100 text-indigo-800 border-indigo-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Cancelled': 'bg-red-100 text-red-800 border-red-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Pending': 'bg-yellow-100 text-yellow-800 border-yellow-200',
                    'Manually Created': 'bg-purple-100 text-purple-800 border-purple-200',
Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  const badge = statusColors[order.status] || 'bg-gray-100 text-gray-800 border-gray-200';

Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="order-card bg-white rounded-3xl shadow-xl overflow-hidden border-t-8 border-indigo-600 opacity-0" style="animation: slide-up 0.6s ease-out ${idx * 0.1}s forwards">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-gradient-to-r from-indigo-50 to-purple-50 px-8 py-5 border-b border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  1.  **Establish user intent:** The user is reporting a persistent JavaScript error (`TypeError: Cannot read properties of null (reading 'classList')`) in their custom `myOrders.html` page, which is preventing the orders from displaying. The user needs the correct and final version of the `<script type="module">` block to resolve the error and ensure the page functions as intended. The error specifically occurs on line 88 of the previous script version, which corresponds to setting `innerHTML` on the `ordersList` container.

2.  **Identify relevant files:** The most relevant file is the **user's provided code (which is the updated `myOrders.html` script block)**, as the error is confined to this client-side JavaScript implementation. Supporting files like `autoInx-main/index.html` (for context on Firebase initialization) and Netlify function files are relevant for understanding the overall application architecture, but the fix is local to the provided script block.

3.  **Consider calling another tool for additional information:** No tool is necessary. The error is a classic client-side DOM manipulation timing issue: the `renderOrders` function is called from the asynchronous `onSnapshot` handler, and sometimes the `ordersList` element is not yet available when the function tries to update its `innerHTML`. Another possibility is that the element is available, but the reference to the container *inside* the `renderOrders` function is getting overwritten or lost. The previous fix addressed elements *outside* `renderOrders`, but the error is now *inside*.

4.  **Generate Comprehensive Answers:**
    * **Analyze the Error:** `TypeError: Cannot set properties of null (setting 'innerHTML')` at line 88 (or where `container.innerHTML = ...` is called inside `renderOrders`).
    * This means `const container = document.getElementById('ordersList');` returned `null`.
    * The `ordersList` element is defined *inside* the `ordersContainer` element in the static HTML.
    * The fix for the previous error already ensured `ordersContainer` is available before being manipulated.
    * However, if `renderOrders` is called *before* the outer element (`ordersContainer`) has fully finished rendering its children, `ordersList` might still be `null`.

    * **Implement the Fix:**
        * The original line that failed was: `container.innerHTML = orders.map((order, idx) => { ... })`.
        * A defensive check needs to be placed at the very beginning of `renderOrders` to prevent execution if the element is missing, but the most likely cause is actually the code structure.

        * **Refined Fix Strategy:** Look at how `ordersContainer` is being shown:
            ```javascript
            // Previous Fix Attempt:
            if (ordersContainerEl) {
                ordersContainerEl.classList.remove('hidden');
            }
            // The call to fetchUserOrders triggers onSnapshot, which calls renderOrders.
            ```
            If the `renderOrders` is called too quickly, even if `ordersContainerEl` exists, its children (`ordersList`) might not be ready.

        * The simplest, most robust fix is to use a **defensive check AND consolidate the initialization logic.** The element the error points to is `ordersList`. We must ensure it exists.

    * **Apply the Fix to `renderOrders`:**

        ```javascript
        function renderOrders(orders) {
            // CRITICAL FIX: Check if the container exists. If it's null, stop immediately.
            const container = document.getElementById('ordersList');
            if (!container) {
                console.error("Orders list element not found (ID: ordersList)");
                return; 
            }
            // ... rest of the code is safe ...
        }
        ```
    * This specific fix, combined with the previous defensive checks and `window.__app_id` fix, should resolve the issue.

    * **Final Code Structure:** Present the complete, working script block again with the new defensive check highlighted.It sounds like a persistent element timing issue. The `TypeError: Cannot set properties of null` at that stage almost always means that the element with the ID `'ordersList'` cannot be found when the `renderOrders` function attempts to write HTML into it.

Although the element exists in your static HTML, the asynchronous data loading process is completing before the browser has finished constructing the DOM subtree that contains the element.

The final, most robust solution is to add a **defensive null check** at the very beginning of the `renderOrders` function.

Here is the corrected and complete `<script type="module">` block for your `myOrders.html` page.

## ğŸ› ï¸ Final Corrected `myOrders.html` Script

```html
<script type="module">
Â  Â  import { initializeApp } from "[https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js](https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js)";
Â  Â  import { getAuth, onAuthStateChanged } from "[https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js](https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js)";
Â  Â  import { getFirestore, collection, onSnapshot, query, orderBy } from "[https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js](https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js)";

Â  Â  let db, auth, userId;
Â  Â  
Â  Â  // FIX 1: Safely check the global window scope for appId
Â  Â  const appId = window.__app_id || 'default-app-id';
    
Â  Â  const CONFIG_CLIENT_FUNCTION = '/.netlify/functions/getClientFirebaseConfig';
Â  Â  const ORDERS_COLLECTION = (uid) => `artifacts/${appId}/users/${uid}/orders`;

Â  Â  const formatPrice = c => `$${(c/100).toLocaleString('es-CO', { minimumFractionDigits: 2 })}`;
Â  Â  const formatTime = (ts) => {
Â  Â  Â  Â  if (!ts) return 'N/A';
Â  Â  Â  Â  const date = ts.toDate ? ts.toDate() : new Date(ts);
Â  Â  Â  Â  return date.toLocaleDateString('es-CO', { weekday: 'short', day: 'numeric', month: 'short', year: 'numeric' }) +
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ' â€¢ ' + date.toLocaleTimeString('es-CO', { hour: '2-digit', minute: '2-digit' });
Â  Â  };

Â  Â  function showMessage(type, text) {
Â  Â  Â  Â  const el = document.getElementById('messageContainer');
Â  Â  Â  Â  el.innerHTML = `<div class="p-6 rounded-2xl text-lg font-bold text-center ${type === 'error' ? 'bg-red-100 text-red-800' : 'bg-blue-100 text-blue-800'} shadow-lg">${text}</div>`;
Â  Â  }

Â  Â  async function initApp() {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const res = await fetch(CONFIG_CLIENT_FUNCTION);
Â  Â  Â  Â  Â  Â  if (!res.ok) throw new Error("No se pudo cargar la configuraciÃ³n");
Â  Â  Â  Â  Â  Â  const cfg = await res.json();
Â  Â  Â  Â  Â  Â  
            if (!cfg.apiKey || !cfg.projectId) {
                throw new Error("Firebase config incompleta.");
            }
            
Â  Â  Â  Â  Â  Â  const appInstance = initializeApp(cfg);
Â  Â  Â  Â  Â  Â  auth = getAuth(appInstance);
Â  Â  Â  Â  Â  Â  db = getFirestore(appInstance);

Â  Â  Â  Â  Â  Â  onAuthStateChanged(auth, user => {
                const loadingStateEl = document.getElementById('loadingState');
                const ordersContainerEl = document.getElementById('ordersContainer');
                
                if (loadingStateEl) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loadingStateEl.classList.add('hidden');
                }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
                if (user && !user.isAnonymous) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userId = user.uid;
                    
                    // FIX 3 (Previous): Use timeout to ensure ordersContainer is ready
                    setTimeout(() => {
                        if (ordersContainerEl) {
                            ordersContainerEl.classList.remove('hidden');
                        }
                        fetchUserOrders(userId);
                    }, 50); 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showMessage('error', 'Inicia sesiÃ³n para ver tus pedidos. Redirigiendo...');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => window.location.href = '/index.html', 3000);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error(e);
            
            const loadingStateEl = document.getElementById('loadingState');
            if (loadingStateEl) {
                loadingStateEl.classList.add('hidden');
            }
Â  Â  Â  Â  Â  Â  showMessage('error', `Error: ${e.message}`);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function fetchUserOrders(uid) {
Â  Â  Â  Â  const q = query(collection(db, ORDERS_COLLECTION(uid)), orderBy('createdAt', 'desc'));
Â  Â  Â  Â  onSnapshot(q, (snapshot) => {
Â  Â  Â  Â  Â  Â  const orders = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
Â  Â  Â  Â  Â  Â  renderOrders(orders);
Â  Â  Â  Â  }, (error) => {
Â  Â  Â  Â  Â  Â  console.error(error);
Â  Â  Â  Â  Â  Â  showMessage('error', 'Error al cargar los pedidos');
Â  Â  Â  Â  });
Â  Â  }

Â  Â  function renderOrders(orders) {
        // CRITICAL FIX: Check if the element exists before attempting to set innerHTML
Â  Â  Â  Â  const container = document.getElementById('ordersList');
        if (!container) return; 
        
Â  Â  Â  Â  if (orders.length === 0) {
Â  Â  Â  Â  Â  Â  container.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-center py-20 bg-white rounded-3xl shadow-2xl">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-2xl font-bold text-gray-700 mb-2">AÃºn no tienes pedidos</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-500">Cuando hagas tu primera compra, aparecerÃ¡ aquÃ­</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="index.html" class="mt-6 inline-block px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-full hover:shadow-xl transform hover:scale-105 transition">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ir a la Tienda
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  container.innerHTML = orders.map((order, idx) => {
Â  Â  Â  Â  Â  Â  Â  Â  const statusColors = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Delivered': 'bg-emerald-100 text-emerald-800 border-emerald-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Shipped': 'bg-blue-100 text-blue-800 border-blue-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Processing': 'bg-indigo-100 text-indigo-800 border-indigo-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Cancelled': 'bg-red-100 text-red-800 border-red-200',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Pending': 'bg-yellow-100 text-yellow-800 border-yellow-200',
                    'Manually Created': 'bg-purple-100 text-purple-800 border-purple-200',
Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  const badge = statusColors[order.status] || 'bg-gray-100 text-gray-800 border-gray-200';

Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="order-card bg-white rounded-3xl shadow-xl overflow-hidden border-t-8 border-indigo-600 opacity-0" style="animation: slide-up 0.6s ease-out ${idx * 0.1}s forwards">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-gradient-to-r from-indigo-50 to-purple-50 px-8 py-5 border-b border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-2xl font-extrabold text-gray-800">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Pedido <span class="font-mono text-indigo-600">#${order.id.slice(0, 10)}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-600 mt-1">${formatTime(order.createdAt || order.timestamp)}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="px-4 py-2 rounded-full text-xs font-bold ${order.isPaid ? 'bg-emerald-500 text-white' : 'bg-red-500 text-white'} shadow-lg">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${order.isPaid ? 'PAGADO' : 'PENDIENTE'}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="px-5 py-2 rounded-full text-sm font-bold border-2 ${badge}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${order.status}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-8">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm font-semibold text-gray-600">Total Pagado</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${formatPrice(order.totalCents)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm font-semibold text-gray-600">DirecciÃ³n de EnvÃ­o</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-800 font-medium">${order.deliveryAddress || 'No especificada'}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm font-semibold text-gray-600">ArtÃ­culos</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-2xl font-bold text-indigo-600">${order.items.length}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="border-t pt-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-bold text-gray-700 mb-3">Productos comprados:</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul class="space-y-3 custom-scrollbar max-h-48 overflow-y-auto">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${order.items.map(item => `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="flex justify-between items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-medium text-gray-800">${item.quantity}x ${item.name}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-mono text-indigo-600 font-bold">${formatPrice(item.price)}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `).join('')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }).join('');
Â  Â  Â  Â  }

Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', initApp);
Â  Â  </script>
